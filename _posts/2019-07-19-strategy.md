---
date: 2019-07-19
title: Strategy
description: Define a family of algorithms, make all of them with similar behavior for specific purpose  
categories:
  - patterns
type: Document
set: design-pattern
set_order: 5
---

函数按用法，大体可分为两类，一类是流程函数，也叫控制函数，像生命周期回调函数；另一类为功能函数，也就是有明确输入输出的函数。
流程函数中，最知名的当属statement，我们最常用的语法if-else, switch-case-finally，如果条件不复杂，用起来还是挺顺手，
但随着分支越来越多，维护起来也就越来越复杂，如果分支中处理的各种情况迥异，那也无可厚非。但如果这些分支处理的事情都一致，
流程或者功能一致，只不过相同的步骤做了对应的事情，那么我们可以用到策略模式来简化处理流程，也就先将这些共性抽象出来，
所有的子类需要继承关实现，最后在装配的过程中，可选择性的选择符合当前上下文的策略来满足需求。


## 场景
## 框架
## 优点与不足

## 示例代码
```python

class ApiGWValidator:
    def __init__(self):
        pass
    
    def check_metadata(self, metadata_json):
        pass
    
    def check_route_specification(self, route_specification_json):
        pass


class ApiGWV1Validator(ApiGWValidator):
    def __init__(self):
        self.version = 1

    def check_metadata(self, metadata_json):
        pass
        
    def check_route_specification(self, route_specification_json):
        pass


def get_validator_by_version(version="1"):
    """Factory"""
    api_gw_validator_builder = {
        "1": ApiGWV1Validator
    }

    return api_gw_validator_builder[version]()
```